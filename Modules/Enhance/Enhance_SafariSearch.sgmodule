#!name=🆙 Enhance: Safari Search
#!desc=[修改] Safari \n1.关键字快捷搜索
#!system=ios
#!category=🆙 Enhance

#!arguments=搜索引擎:duckduckgo
#!arguments-desc=1️⃣ 搜索引擎\n\n在safari设置默认搜索引擎, 然后在这里修改相应引擎即可, 默认duckduckgo\n\n如修改为百度, 则输入baidu


##################################################################################################
# - Safari 内输入 命令 + 空格 + 关键词 快速指定搜索引擎搜索
# - 注：请先进入设置更改 Safari 默认搜索为 DuckDuckGO或其他搜索引擎, 将duckduckgo.com替换即可
##################################################################################################

[Script]


[URL Rewrite]
# Enhance: Safari Search
# 检索类
# ddg xxx (还原 DuckDuckGo)
^https:\/\/{{{搜索引擎}}}.com\/\?q=ddg(\+|%20)([^&]+).+ https://duckduckgo.com/?ia=about&q=$2 302

# xxx （无指令默认为 Google）
^https:\/\/{{{搜索引擎}}}.com\/\?q=(?!dl(c|e|j)(\+|%20))([^&]+).+ https://www.google.com/search?q=$3&num=100 302

# bd xxx (百度)
^https:\/\/{{{搜索引擎}}}.com\/\?q=bd(\+|%20)([^&]+).+ https://www.baidu.com/s?wd=$2 302

# bing xxx (必应)
^https:\/\/{{{搜索引擎}}}.com\/\?q=bing\+([^&]+).+ https://cn.bing.com/search?q=$1 302

# wk xxx (Wikipedia 中文)
^https:\/\/{{{搜索引擎}}}.com\/\?q=wk(\+|%20)([^&]+).+ https://zh.wikipedia.org/wiki/$2 302

# wiki xxx (Wikipedia)
^https:\/\/{{{搜索引擎}}}.com\/\?q=wiki(\+|%20)([^&]+).+ https://wikipedia.org/wiki/$2 302

# 信息类
# bli xxx (哔哩哔哩)
^https:\/\/{{{搜索引擎}}}.com\/\?q=bli\+([^&]+).+ https://m.bilibili.com/search?keyword=$1 302

# bv xxx (哔哩哔哩视频)
^https:\/\/{{{搜索引擎}}}.com\/\?q=bv\+([^&]+).+ https://bilibili.com/video/$1/ 302

# wb xxx (微博)
^https:\/\/{{{搜索引擎}}}.com\/\?q=wb(\+|%20)([^&]+).+ https://s.weibo.com/weibo/$2 302

# av xxx (missav)
^https:\/\/{{{搜索引擎}}}.com\/\?q=av\+([^&]+).+ https://missav.ai/cn/search/$1 302

# 技术类
# gh xxx (GitHub)
^https:\/\/{{{搜索引擎}}}.com\/\?q=gh(\+|%20)([^&]+).+ https://github.com/search?q=$2 302

# so xxx (Stack Overflow)
^https:\/\/{{{搜索引擎}}}.com\/\?q=so(\+|%20)([^&]+).+ https://stackoverflow.com/search?q=$2 302


[MITM]
hostname = %APPEND% duckduckgo.com