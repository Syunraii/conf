#!name=ğŸ†™ Enhance: Safari Search
#!desc=[ä¿®æ”¹] Safari \n1.å…³é”®å­—å¿«æ·æœç´¢
#!system=ios
#!category=ğŸ†™ Enhance

#!arguments=æœç´¢å¼•æ“:duckduckgo
#!arguments-desc=1ï¸âƒ£ æœç´¢å¼•æ“\n\nåœ¨safariè®¾ç½®é»˜è®¤æœç´¢å¼•æ“, ç„¶ååœ¨è¿™é‡Œä¿®æ”¹ç›¸åº”å¼•æ“å³å¯, é»˜è®¤duckduckgo\n\nå¦‚ä¿®æ”¹ä¸ºç™¾åº¦, åˆ™è¾“å…¥baidu


##################################################################################################
# - Safari å†…è¾“å…¥ å‘½ä»¤ + ç©ºæ ¼ + å…³é”®è¯ å¿«é€ŸæŒ‡å®šæœç´¢å¼•æ“æœç´¢
# - æ³¨ï¼šè¯·å…ˆè¿›å…¥è®¾ç½®æ›´æ”¹ Safari é»˜è®¤æœç´¢ä¸º DuckDuckGOæˆ–å…¶ä»–æœç´¢å¼•æ“, å°†duckduckgo.comæ›¿æ¢å³å¯
# ç‰¹åˆ«é¸£è°¢ï¼š
# @Coldvvater https://github.com/Coldvvater
# @zZPiglet https://github.com/zZPiglet
# @Neurogram-R https://github.com/Neurogram-R
# @ddgksf2013 https://github.com/ddgksf2013
##################################################################################################

[Script]
# Enhance: Safari Search
# dlc xxx (DeepL è¯‘è‡³ä¸­)
ä¿®æ”¹_Safari_DToChinese = type =http-request,pattern=^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=dlc(\+|%20)([^&]+).+,script-path=https://raw.githubusercontent.com/zZPiglet/Task/master/asset/DeepLQ-search.js

# dle xxx (DeepL è¯‘è‡³è‹±)
ä¿®æ”¹_Safari_DToEnglish = type =http-request,pattern=^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=dle(\+|%20)([^&]+).+,script-path=https://raw.githubusercontent.com/zZPiglet/Task/master/asset/DeepLQ-search.js

# dlj xxx (DeepL è¯‘è‡³æ—¥)
ä¿®æ”¹_Safari_DToJapanese = type =http-request,pattern=^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=dlj(\+|%20)([^&]+).+,script-path=https://raw.githubusercontent.com/zZPiglet/Task/master/asset/DeepLQ-search.js


[URL Rewrite]
# Enhance: Safari Search
# æ£€ç´¢ç±»
# ddg xxx (è¿˜åŸ DuckDuckGo)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=ddg(\+|%20)([^&]+).+ https://duckduckgo.com/?ia=about&q=$2 302

# bd xxx (ç™¾åº¦)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=bd(\+|%20)([^&]+).+ https://www.baidu.com/s?wd=$2 302

# bi xxx (å¿…åº”)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=bi\+([^&]+).+ https://cn.bing.com/search?q=$1 302

# wiki xxx (Wikipedia)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=wiki(\+|%20)([^&]+).+ https://wikipedia.org/wiki/$2 302

# wk xxx (Wikipedia ä¸­æ–‡)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=wk(\+|%20)([^&]+).+ https://zh.wikipedia.org/wiki/$2 302


# ä¿¡æ¯ç±»
# bli xxx (å“”å“©å“”å“©)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=bli\+([^&]+).+ https://m.bilibili.com/search?keyword=$1 302

# bv xxx (å“”å“©å“”å“©è§†é¢‘)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=bv\+([^&]+).+ https://bilibili.com/video/$1/ 302

# af xxx (Acfun)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=af\+([^&]+).+ https://www.acfun.cn/search?keyword=$1 302

# wb xxx (å¾®åš)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=wb(\+|%20)([^&]+).+ https://s.weibo.com/weibo/$2 302

# tt xxx (å¤´æ¡)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=tt\+([^&]+).+ https://so.toutiao.com/search?keyword=$1 302

# db xxx (è±†ç“£)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=db\+([^&]+).+ https://m.douban.com/search/?query=$1 302

# zh xxx (çŸ¥ä¹)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=zh(\+|%20)([^&]+).+ https://www.zhihu.com/search?q=$2 302

# wx xxx (å¾®ä¿¡)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=wx\+([^&]+).+ https://weixin.sogou.com/weixinwap?query=$1 302

# ys xxx (èŒ¶æ¯ç‹ç”µå½±)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=ys\+([^&]+).+ https://cupfox.app/search?key=$1 302

# rd xxx (Reddit)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=rd(\+|%20)([^&]+).+ https://www.reddit.com/search?q=$2 302

# tw xxx (Twitter)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=tw(\+|%20)([^&]+).+ https://twitter.com/search?q=$2 302

# ytb xxx (YouTube)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=ytb(\+|%20)([^&]+).+ https://www.youtube.com/results?search_query=$2 302

# ph xxx (PornHub)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=ph\+([^&]+).+ https://cn.pornhub.com/video/search?search=$1 302

# av xxx (missav)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=av\+([^&]+).+ https://missav888.com/cn/search/$1 302


# å·¥å…·ç±»
# trc xxx (Google è¯‘è‡³ä¸­)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=trc(\+|%20)([^&]+).+ https://translate.google.com/#view=home&op=translate&sl=auto&tl=zh-CN&text=$2 302

# tre xxx (Google è¯‘è‡³è‹±)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=tre(\+|%20)([^&]+).+ https://translate.google.com/#view=home&op=translate&sl=auto&tl=en&text=$2 302

# trj xxx (Google è¯‘è‡³æ—¥)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=trj(\+|%20)([^&]+).+ https://translate.google.com/#view=home&op=translate&sl=auto&tl=ja&text=$2 302


# æŠ€æœ¯ç±»
# yh xxx (æ²¹çŒ´æœç´¢)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=yh\+([^&]+).+ https://greasyfork.org/zh-CN/scripts?q=$1 302

# gh xxx (GitHub)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=gh(\+|%20)([^&]+).+ https://github.com/search?q=$2 302
# so xxx (Stack Overflow)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=so(\+|%20)([^&]+).+ https://stackoverflow.com/search?q=$2 302


# èµ„æºç±»
# gi xxx (Google å›¾ç‰‡)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=gi(\+|%20)([^&]+).+ https://www.google.com/search?&tbm=isch&q=$2 302

# tf xxx (Google æœç´¢ TestFlight)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=tf(\+|%20)([^&]+).+ https://www.google.com/search?as_q=$2&as_sitesearch=testflight.apple.com 302

# gd xxx (Google æœç´¢ Google Drive èµ„æº)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=gd(\+|%20)([^&]+).+ https://www.google.com/search?q=%22Google+Drive%22+$2 302

# tgd xxx (t.me/gdsharing æœç´¢ Google Drive èµ„æº)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=tgd(\+|%20)([^&]+).+ https://t.me/s/gdsharing?q=$2 302

# tal xxx (t.me/shareAliyun æœç´¢é˜¿é‡Œäº‘ç›˜èµ„æº)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=tal(\+|%20)([^&]+).+ https://t.me/s/shareAliyun?q=$2 302

# tal2 xxx (t.me/YunPanPan æœç´¢é˜¿é‡Œäº‘ç›˜èµ„æº)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=tal2(\+|%20)([^&]+).+ https://t.me/s/YunPanPan?q=$2 302

# ccn (App Storeç½‘é¡µç‰ˆ ä¸´æ—¶åˆ‡æ¢è‡³ä¸­å›½åŒº) æ„Ÿè°¢ @mieqq
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=ccn&.+ https://itunes.apple.com/WebObjects/MZStore.woa/wa/resetAndRedirect?dsf=143465&mt=8&url=/WebObjects/MZStore.woa/wa/viewSoftware?mt=8&id=1108187390&cc=cn&urlDesc= 302

# uus (App Storeç½‘é¡µç‰ˆ ä¸´æ—¶åˆ‡æ¢è‡³ç¾å›½åŒº) æ„Ÿè°¢ @mieqq
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=uus&.+ https://itunes.apple.com/WebObjects/MZStore.woa/wa/resetAndRedirect?dsf=143441&mt=8&url=/WebObjects/MZStore.woa/wa/viewSoftware?mt=8&id=1108187390&cc=us&urlDesc= 302

# hhk (App Storeç½‘é¡µç‰ˆ ä¸´æ—¶åˆ‡æ¢è‡³é¦™æ¸¯åŒº)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=hhk&.+ https://itunes.apple.com/WebObjects/MZStore.woa/wa/resetAndRedirect?dsf=143463&mt=8&url=/WebObjects/MZStore.woa/wa/viewSoftware?mt=8&id=1108187390&cc=hk&urlDesc= 302

# ttw (App Storeç½‘é¡µç‰ˆ ä¸´æ—¶åˆ‡æ¢è‡³å°æ¹¾åŒº)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=ttw&.+ https://itunes.apple.com/WebObjects/MZStore.woa/wa/resetAndRedirect?dsf=143470&mt=8&url=/WebObjects/MZStore.woa/wa/viewSoftware?mt=8&id=1108187390&cc=tw&urlDesc= 302

# jjp (App Storeç½‘é¡µç‰ˆ ä¸´æ—¶åˆ‡æ¢è‡³æ—¥æœ¬åŒº)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=jjp&.+ https://itunes.apple.com/WebObjects/MZStore.woa/wa/resetAndRedirect?dsf=143462&mt=8&url=/WebObjects/MZStore.woa/wa/viewSoftware?mt=8&id=1108187390&cc=jp&urlDesc= 302

^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=kkr&.+ https://itunes.apple.com/WebObjects/MZStore.woa/wa/resetAndRedirect?dsf=143466&mt=8&url=/WebObjects/MZStore.woa/wa/viewSoftware?mt=8&id=1108187390&cc=kr&urlDesc= 302

# ttr (App Storeç½‘é¡µç‰ˆ ä¸´æ—¶åˆ‡æ¢è‡³åœŸè€³å…¶åŒº)
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=ttr&.+ https://itunes.apple.com/WebObjects/MZStore.woa/wa/resetAndRedirect?dsf=143480&mt=8&url=/WebObjects/MZStore.woa/wa/viewSoftware?mt=8&id=1108187390&cc=tr&urlDesc= 302

# xxx ï¼ˆæ— æŒ‡ä»¤é»˜è®¤ä¸º Googleï¼‰
^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=(?!dl(c|e|j)(\+|%20))([^&]+).+ https://www.google.com/search?q=$3&num=100 302

#########################################ç¦ç”¨#########################################

# wz xxx (æ— è¿½æœç´¢)
# ^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=wz\+([^&]+).+ https://www.wuzhuiso.com/s?q=$1 302

# mg xxx (Magi)
# ^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=mg(\+|%20)([^&]+).+ https://magi.com/search?q=$2 302

# # sspai xxx (å°‘æ•°æ´¾ç«™å†…æœç´¢)
# ^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=sspai(\+|%20)([^&]+).+ https://sspai.com/search/post/$2 302

# # ssp xxx (Google æœç´¢å°‘æ•°æ´¾)
# ^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=ssp(\+|%20)([^&]+).+ https://www.google.com/search?as_q=$2&as_sitesearch=sspai.com 302

# # se xxx (StackExchange)
# ^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=se(\+|%20)([^&]+).+ https://stackexchange.com/search?q=$2 302

# zdm xxx (ä»€ä¹ˆå€¼å¾—ä¹°)
# ^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=zdm\+([^&]+).+ https://search.m.smzdm.com/?v=b&s=$1 302

# jd xxx (äº¬ä¸œ)
# ^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=jd\+([^&]+).+ https://so.m.jd.com/ware/search.action?keyword=$1 302

# tb xxx (æ·˜å®)
# ^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=tb\+([^&]+).+ https://s.m.taobao.com/h5?q=$1 302

# rut xxx (Google æœç´¢ rutracker æ¯›å­ç ´è§£ç«™)
# ^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=rut(\+|%20)([^&]+).+ https://www.google.com/search?as_q=$2&as_sitesearch=rutracker.org 302

# yd xxx (æœ‰é“è¯å…¸)
# ^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=yd(\+|%20)([^&]+).+ https://dict.youdao.com/search?q=$2 302

# wa xxx (WolframAlpha)
# ^https:\/\/{{{æœç´¢å¼•æ“}}}.com\/\?q=wa(\+|%20)([^&]+).+ https://www.wolframalpha.com/input/?i=$2 302

[MITM]
hostname = %APPEND% duckduckgo.com