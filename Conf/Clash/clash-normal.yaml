##############################################
# è®¢é˜…é”šç‚¹
proxies-global-config: &pgc {type: http, interval: 86400, health-check: {enable: true, url: http://www.gstatic.com/generate_204, interval: 300, timeout: 10}}
proxy-providers:
  MyAll: &MyAll
    <<: *pgc
    url: sublink/Clash-All
  MyPub: &MyPub
    <<: *pgc
    url: sublink/Clash-Pub
  MyPri: &MyPri
    <<: *pgc
    url: sublink/Clash-Pri
  MyTmp: &MyTmp
    <<: *pgc
    url: sublink/Clash-Tmp
  MyEmby: &MyEmby
    <<: *pgc
    url: sublink/Clash-Emby
##############################################

##############################################
port: 7890
socks-port: 7891
mode: rule
log-level: info
ipv6: false
allow-lan: true
unified-delay: true
tcp-concurrent: true

keep-alive-idle: 600
keep-alive-interval: 30
find-process-mode: strict

global-ua: clash.meta
global-client-fingerprint: chrome

external-controller: 0.0.0.0:9090
secret: "2333"
external-ui: ui
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"
# external-ui-url: "https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip"

geodata-mode: true
geodata-loader: standard
geo-auto-update: true
geo-update-interval: 48
geox-url:
  geoip: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country.mmdb"
  asn: "https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/geoip/release/GeoLite2-ASN.mmdb"

profile:
  store-selected: true 
  store-fake-ip: false

sniffer:
  enable: true
  sniff:
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
  force-domain:
    - '*.v2ex.com'
  skip-domain:
    - '*.push.apple.com'
    - '*.apple.com'
    - '*.wechat.com'
    - '*.qpic.cn'
    - '*.qq.com'
    - '*.wechatapp.com'
    - '*.vivox.com'
    # å‘æ—¥è‘µè¿œç¨‹
    - '*.oray.com'
    - '*.sunlogin.net'

tun:
  enable: true
  # mixed/gvisor
  stack: mixed
  dns-hijack: 
    - "any:53"
    - "tcp://any:53"
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true

dns:
  enable: true
  ipv6: false
  prefer-h3: false
  cache-algorithm: arc
  respect-rules: false
  use-hosts: true
  use-system-hosts: true
  listen: 0.0.0.0:1053
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - '*.lan'
    - '*.local'
    - '*.direct'
    - time.*.com
    - time.*.gov
    - time.*.edu.cn
    - time.*.apple.com
    - time-ios.apple.com
    - time1.*.com
    - time2.*.com
    - time3.*.com
    - time4.*.com
    - time5.*.com
    - time6.*.com
    - time7.*.com
    - ntp.*.com
    - ntp1.*.com
    - ntp2.*.com
    - ntp3.*.com
    - ntp4.*.com
    - ntp5.*.com
    - ntp6.*.com
    - ntp7.*.com
    - "*.time.edu.cn"
    - "*.ntp.org.cn"
    - "*.pool.ntp.org"
    - "+.services.googleapis.cn"
    - '*.msftconnecttest.com'
    - '*.msftncsi.com'
    - '*.srv.nintendo.net'
    - '*.stun.playstation.net'
    - xbox.*.microsoft.com
    - '*.xboxlive.com'
    - '*.srv.nintendo.net'
    - '*.stun.playstation.net'
    - '*.xboxlive.com'
    - '*.battlenet.com.cn'
    - '*.battlenet.com'
    - '*.blzstatic.cn'
    - '*.battle.net'
    - "+.push.apple.com"
    - "geosite:cn"
    - "geosite:private"
    - "geosite:category-games@cn"
  default-nameserver:
    - 119.29.29.29
    - 223.5.5.5
    - 114.114.114.114
  nameserver:
    - system
    - quic://223.5.5.5
    - tls://dot.pub:853
    - tls://dns.alidns.com
  fallback:
    - tls://1.1.1.1:853
    - tls://dns.google
    - https://dns.google/dns-query
##############################################

# ç­–ç•¥ç»„é”šç‚¹å‚æ•°
## æˆ‘çš„è®¢é˜…
Proxies-Pub: &myPub {type: select , use: [MyPub]}
Proxies-Pri: &myPri {type: select , use: [MyPri]}
Proxies-Tmp: &myTmp {type: select , use: [MyTmp]}
Proxies-Emby: &myEmby {type: select , use: [MyEmby]}

FilterHK: &filterHK '(?i)ðŸ‡­ðŸ‡°|é¦™æ¸¯|(\b(HK|Hong Kong)\b)'
FilterTW: &filterTW '(?i)ðŸ‡¨ðŸ‡³|ðŸ‡¹ðŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\b)'
FilterJP: &filterJP '(?i)ðŸ‡¯ðŸ‡µ|æ—¥æœ¬(\b(JP|Japan)\b)'
FilterKR: &filterKR '(?i)ðŸ‡°ðŸ‡·|éŸ©å›½|(\b(KR|South Korea)\b)'
FilterUS: &filterUS '(?i)ðŸ‡ºðŸ‡¸|ç¾Žå›½(\b(US|United States)\b)'
FilterSG: &filterSG '(?i)ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|(\b(SG|Singapore)\b)'
FilterOther: &filterOther '^(?!.*(?i)(ðŸ‡­ðŸ‡°|é¦™æ¸¯|(\b(HK|HongKong|Hong Kong)\b)|ðŸ‡¨ðŸ‡³|ðŸ‡¹ðŸ‡¼|å°æ¹¾|(\b(TW|Taiwan)\b)|ðŸ‡¯ðŸ‡µ|æ—¥æœ¬|(\b(JP|Japan)\b)|ðŸ‡°ðŸ‡·|éŸ©å›½|(\b(KR|South Korea)\b)|ðŸ‡ºðŸ‡¸|ç¾Žå›½|(\b(US|USA|United States)\b)|ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|ç‹®åŸŽ|(\b(SG|Singapore)\b))).*$'

#Filter_Emby_Normal: &filter_Emby_Normal '(?i)(?!.*Ã—)(ðŸ‡­ðŸ‡°|é¦™æ¸¯|ðŸ‡¨ðŸ‡³|ðŸ‡¹ðŸ‡¼|å°æ¹¾|ðŸ‡°ðŸ‡·|éŸ©å›½|ðŸ‡ºðŸ‡¸|ç¾Žå›½|ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|ç‹®åŸŽ|\b(HK|HongKong|Hong Kong|TW|Taiwan|KR|Korea|South Korea|US|USA|United States|SG|Singapore)\b)' 
Filter_Emby_Normal: &filter_Emby_Normal '^(?!.*(?i)(3Ã—|ðŸ‡¯ðŸ‡µ|æ—¥æœ¬|(\b(JP|Japan)\b))).*$' 
#Filter_Emby_Low: &filter_Emby_Low '(?i)(?=.*0\.1Ã—).*(ðŸ‡­ðŸ‡°|é¦™æ¸¯|ðŸ‡¨ðŸ‡³|ðŸ‡¹ðŸ‡¼|å°æ¹¾|ðŸ‡°ðŸ‡·|éŸ©å›½|ðŸ‡ºðŸ‡¸|ç¾Žå›½|ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|ç‹®åŸŽ|\b(HK|HongKong|Hong Kong|TW|Taiwan|KR|Korea|South Korea|US|USA|United States|SG|Singapore)\b)'
Filter_Emby_Low: &filter_Emby_Low '(?i)^(?=.*0\.1Ã—)(?!.*(ðŸ‡¯ðŸ‡µ|æ—¥æœ¬|\b(JP|Japan\b))).*$'

## åŸºæœ¬è¡Œä¸º
DIRECT: &direct {type: select, proxies: [DIRECT], hidden: true}
REJECT: &reject {type: select, proxies: [REJECT], hidden: true}
DROP: &drop {type: select, proxies: [REJECT-DROP], hidden: true}

## é«˜çº§è¡Œä¸º
URL-TEST: &ut {type: url-test, tolerance: 200, interval: 180}
FALLBACK: &fb {type: fallback, interval: 300}
LOAD-BALANCE: &lb {type: load-balance, strategy: consistent-hashing, interval: 300}

## åŸºæœ¬ç­–ç•¥ç»„
SELECT-Global: &select-global {type: select, proxies: [ðŸš€ è‡ªåŠ¨é€‰æ‹©, ðŸ”° æ‰‹åŠ¨é€‰æ‹©, ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥, ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ðŸ‡¨ðŸ‡³ å°æ¹¾èŠ‚ç‚¹, ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ðŸ‡°ðŸ‡· éŸ©å›½èŠ‚ç‚¹, ðŸ‡ºðŸ‡¸ ç¾Žå›½èŠ‚ç‚¹, ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹]}
SELECT-Auto: &select-auto {type: url-test,  proxies: [ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ðŸ‡¨ðŸ‡³ å°æ¹¾èŠ‚ç‚¹, ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ðŸ‡°ðŸ‡· éŸ©å›½èŠ‚ç‚¹, ðŸ‡ºðŸ‡¸ ç¾Žå›½èŠ‚ç‚¹, ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹]}
SELECT-manual: &select-manual {type: select, proxies: [ðŸ›« å¸¸è§„è®¢é˜…, ðŸ¦„ æ•…éšœè½¬ç§»]}

## è‡ªå®šä¹‰ç­–ç•¥ç»„ é¡ºåº
HEAD-global: &h-global {type: select, proxies: [ðŸŒ å…¨å±€é€‰æ‹©, ðŸˆ² ç¦æ­¢è®¿é—®, âšª ä¸¢å¼ƒè¯·æ±‚, ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥, ðŸ”° æ‰‹åŠ¨é€‰æ‹©, ðŸ¦„ æ•…éšœè½¬ç§», ðŸª‚ ä¸´æ—¶è®¢é˜…, ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ðŸ‡¨ðŸ‡³ å°æ¹¾èŠ‚ç‚¹, ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ðŸ‡°ðŸ‡· éŸ©å›½èŠ‚ç‚¹, ðŸ‡ºðŸ‡¸ ç¾Žå›½èŠ‚ç‚¹, ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹, ðŸŒ å…¶ä»–èŠ‚ç‚¹]}
HEAD-direct: &h-direct {type: select, proxies: [ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥, ðŸˆ² ç¦æ­¢è®¿é—®, âšª ä¸¢å¼ƒè¯·æ±‚, ðŸŒ å…¨å±€é€‰æ‹©, ðŸ”° æ‰‹åŠ¨é€‰æ‹©, ðŸ¦„ æ•…éšœè½¬ç§», ðŸª‚ ä¸´æ—¶è®¢é˜…, ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ðŸ‡¨ðŸ‡³ å°æ¹¾èŠ‚ç‚¹, ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ðŸ‡°ðŸ‡· éŸ©å›½èŠ‚ç‚¹, ðŸ‡ºðŸ‡¸ ç¾Žå›½èŠ‚ç‚¹, ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹, ðŸŒ å…¶ä»–èŠ‚ç‚¹]}
HEAD-reject: &h-reject {type: select, proxies: [ðŸˆ² ç¦æ­¢è®¿é—®, âšª ä¸¢å¼ƒè¯·æ±‚, ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥, ðŸŒ å…¨å±€é€‰æ‹©, ðŸ”° æ‰‹åŠ¨é€‰æ‹©, ðŸ¦„ æ•…éšœè½¬ç§», ðŸª‚ ä¸´æ—¶è®¢é˜…, ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ðŸ‡¨ðŸ‡³ å°æ¹¾èŠ‚ç‚¹, ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ðŸ‡°ðŸ‡· éŸ©å›½èŠ‚ç‚¹, ðŸ‡ºðŸ‡¸ ç¾Žå›½èŠ‚ç‚¹, ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹, ðŸŒ å…¶ä»–èŠ‚ç‚¹]}

## è‡ªå®šä¹‰ç­–ç•¥ç»„ éœ€æ±‚:Emby
Emby-Global: &emby-global {type: select, proxies: [ðŸŽ¬ EmbyðŸªœ, ðŸŽ¬ Embyâ™¿ï¸, ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥, ðŸŒ å…¨å±€é€‰æ‹©, ðŸ”° æ‰‹åŠ¨é€‰æ‹©, ðŸ¦„ æ•…éšœè½¬ç§», ðŸª‚ ä¸´æ—¶è®¢é˜…]}
Emby-Select: &emby-select {type: select, proxies: [ðŸŽ¬ EmbyðŸªœ, ðŸŽ¬ Embyâ™¿ï¸, ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥, ðŸŒ å…¨å±€é€‰æ‹©, ðŸ”° æ‰‹åŠ¨é€‰æ‹©, ðŸ¦„ æ•…éšœè½¬ç§», ðŸª‚ ä¸´æ—¶è®¢é˜…]}
Emby-Direct: &emby-direct {type: select, proxies: [ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥, ðŸŽ¬ EmbyðŸªœ, ðŸŽ¬ Embyâ™¿ï¸, ðŸŒ å…¨å±€é€‰æ‹©, ðŸ”° æ‰‹åŠ¨é€‰æ‹©, ðŸ¦„ æ•…éšœè½¬ç§», ðŸª‚ ä¸´æ—¶è®¢é˜…]}


proxy-groups:
  - {name: "ðŸŒ å…¨å±€é€‰æ‹©", <<: *select-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png}
  - {name: "ðŸš€ è‡ªåŠ¨é€‰æ‹©", <<: *select-auto, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Rocket.png}
  - {name: "ðŸ”° æ‰‹åŠ¨é€‰æ‹©", <<: *select-manual, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Area.png}

  - {name: "ðŸ›« å¸¸è§„è®¢é˜…", <<: *myPub, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Airport.png}
  - {name: "ðŸ¦„ æ•…éšœè½¬ç§»", <<: *myPri, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Flamingo.png}
  - {name: "ðŸª‚ ä¸´æ—¶è®¢é˜…", <<: *myTmp, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png}

  - {name: "ðŸš« å¹¿å‘Šæ‹¦æˆª", <<: *h-reject, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Advertising.png}
  - {name: "â›” è®©æˆ‘è®¿é—®", <<: *h-direct, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Direct.png}

  - {name: "ðŸŽ¬ EmbyðŸªœ", type: select, use: [MyEmby], filter: *filter_Emby_Normal, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Emby.png}
  - {name: "ðŸŽ¬ Embyâ™¿ï¸", type: select, use: [MyEmby], filter: *filter_Emby_Low, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Emby.png}
  
  - {name: "ðŸŽ¬ EmbyðŸŒ", <<: *emby-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Emby.png}
  - {name: "ðŸŽ¬ EmbyðŸ’ ", <<: *emby-select, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Emby.png}
  - {name: "ðŸŽ¬ EmbyðŸŽ¯", <<: *emby-direct, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Emby.png}
  
  - {name: "ðŸ“µ é™å®šåº”ç”¨", <<: *h-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apeach.png}
  - {name: "ðŸ“š æˆ‘çˆ±æ¼«ç”»", <<: *h-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Ox.png}
  - {name: "ðŸ“± ç”µæŠ¥é€šè®¯", <<: *h-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png}
  - {name: "ðŸŒŸ æŠ–éŸ³è§†é¢‘", <<: *h-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/TikTok.png}
  - {name: "ðŸ» å“”å“©å“”å“©", <<: *h-direct, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/bilibili_3.png}
  - {name: "ðŸ“¹ å·´å“ˆå§†ç‰¹", <<: *h-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bahamut.png}
  - {name: "ðŸŽ¥ å›½å¤–åª’ä½“", <<: *h-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ForeignMedia.png}
  - {name: "ðŸŽ® æ¸¸æˆå¹³å°", <<: *h-direct, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Game.png}
  - {name: "ðŸ³ å¼€å‘å·¥å…·", <<: *h-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Copilot.png}
  - {name: "ðŸ•Šï¸ è°·æ­ŒæœåŠ¡", <<: *h-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google_Search.png}
  - {name: "â“‚ï¸ å¾®è½¯æœåŠ¡", <<: *h-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png}
  - {name: "ðŸŽ è‹¹æžœæœåŠ¡", <<: *h-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png}
  - {name: "â˜ï¸ äº‘æœåŠ¡å•†", <<: *h-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Cloudflare.png}
  - {name: "ðŸŸ æ•´ç‚¹è–¯æ¡", <<: *h-global, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Fries.png}
  - {name: "ðŸ” æ•´ç‚¹æ±‰å ¡", <<: *h-direct, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png}
  
  - {name: ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹, <<: *fb, use: [MyPub, MyPri], filter: *filterHK, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png}
  - {name: ðŸ‡¨ðŸ‡³ å°æ¹¾èŠ‚ç‚¹, <<: *fb, use: [MyPub, MyPri], filter: *filterTW, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Taiwan.png}
  - {name: ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, <<: *fb, use: [MyPub, MyPri], filter: *filterJP, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png}
  - {name: ðŸ‡°ðŸ‡· éŸ©å›½èŠ‚ç‚¹, <<: *fb, use: [MyPub, MyPri], filter: *filterKR, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Korea.png}
  - {name: ðŸ‡ºðŸ‡¸ ç¾Žå›½èŠ‚ç‚¹, <<: *fb, use: [MyPub, MyPri], filter: *filterUS, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png}
  - {name: ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹, <<: *fb, use: [MyPub, MyPri], filter: *filterSG, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png}
  - {name: ðŸŒ å…¶ä»–èŠ‚ç‚¹, <<: *fb, use: [MyPub, MyPri], filter: *filterOther, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/World_Map.png}

  - {name: ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥, <<: *direct, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Available_1.png}
  - {name: ðŸˆ² ç¦æ­¢è®¿é—®, <<: *reject, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Reject.png}
  - {name: âšª ä¸¢å¼ƒè¯·æ±‚, <<: *drop, icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Reject.png}

# è§„åˆ™é”šç‚¹å‚æ•°
rule-anchor:
  IP_Msr: &ip_msr {type: http, interval: 86400, behavior: ipcidr, format: mrs}
  IP_Text: &ip_text {type: http, interval: 86400, behavior: ipcidr, format: text}
  IP_Yaml: &ip_yaml {type: http, interval: 86400, behavior: ipcidr, format: yaml}

  Domain_Msr: &d_msr {type: http, interval: 86400, behavior: domain, format: mrs}
  Domain_Text: &d_text {type: http, interval: 86400, behavior: domain, format: text}
  Domain_Yaml: &d_yaml {type: http, interval: 86400, behavior: domain, format: yaml}

  Class_Text: &c_text {type: http, interval: 86400, behavior: classical, format: text}
  Class_Yaml: &c_yaml {type: http, interval: 86400, behavior: classical, format: yaml}

# è§„åˆ™æä¾›è€…
rule-providers:
  # å…¶ä»–ä¸åœ¨GEOIPã€GEOSITEæ•°æ®åº“å†…çš„è§„åˆ™
  RULE-CYaml-Lan: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Lan.yaml"}
  RULE-CYaml-Direct: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Direct.yaml"}
  # ä¸‹è½½ 
  RULE-CYaml-Download: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Download.yaml"}
  RULE-CYaml-GameDownload: {<<: *c_yaml, url: "https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Clash/Game/GameDownload/GameDownload_No_Resolve.yaml"}
  RULE-CYaml-GameDownloadCN: {<<: *c_yaml, url: "https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Clash/Game/GameDownloadCN/GameDownloadCN_No_Resolve.yaml"}
  # éšç§ä¿æŠ¤ã€ååŠ«æŒã€å¹¿å‘Šæ‹¦æˆª
  RULE-CText-Reject: {<<: *c_text, url: "https://raw.githubusercontent.com/Repcz/Tool/refs/heads/X/mihomo/Rules/Reject.list"}
  RULE-CYaml-Privacy: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Privacy.yaml"}
  RULE-CYaml-Hijacking: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Hijacking.yaml"}
  RULE-CYaml-AdvertisingLite: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/AdvertisingLite.yaml"}

  RULE-CYaml-Line: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Line.yaml"}
  RULE-CYaml-Pixiv: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Pixiv.yaml"}
  RULE-CYaml-Abema: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Abema.yaml"}
  RULE-CYaml-AbemaTV: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/AbemaTV.yaml"}
  RULE-CYaml-Niconico: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Niconico.yaml"}
  RULE-CYaml-PayPal: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/PayPal.yaml"}
  # ðŸ“š æˆ‘çˆ±æ¼«ç”»
  RULE-CYaml-Picacg: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Picacg.yaml"}
  RULE-CYaml-EHGallery: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/EHGallery.yaml"}
  # ðŸ“± ç”µæŠ¥é€šè®¯, ðŸŒŸ æŠ–éŸ³è§†é¢‘, ðŸ» å“”å“©å“”å“©, ðŸ“¹ å·´å“ˆå§†ç‰¹
  RULE-CYaml-Telegram: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Telegram.yaml"}
  RULE-CYaml-TikTok: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/TikTok.yaml"}
  RULE-CYaml-Bahamut: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Bahamut.yaml"}
  RULE-CYaml-BiliBili: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/BiliBili.yaml"}
  # ðŸŽ¥ å›½å¤–åª’ä½“
  RULE-CYaml-YouTube: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/YouTube.yaml"}
  # ðŸŽ® æ¸¸æˆå¹³å°
  RULE-CYaml-Game: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Game.yaml"}
  # ðŸ³ å¼€å‘å·¥å…·
  RULE-CText-AI: {<<: *c_text, url: "https://raw.githubusercontent.com/Repcz/Tool/refs/heads/X/mihomo/Rules/AI.list"}
  RULE-CYaml-GitHub: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/GitHub.yaml"}
  RULE-CYaml-Developer: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Developer.yaml"}
  # ðŸ•Šï¸ è°·æ­ŒæœåŠ¡, â“‚ï¸ å¾®è½¯æœåŠ¡, ðŸŽ è‹¹æžœæœåŠ¡
  RULE-CYaml-Google: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Google.yaml"}
  RULE-CYaml-Microsoft: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Microsoft.yaml"}
  RULE-CYaml-Apple: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Apple.yaml"}
  # â˜ï¸ äº‘æœåŠ¡å•†
  RULE-CYaml-Cloudflare: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Cloudflare.yaml"}
  RULE-CYaml-Akamai: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Akamai.yaml"}
  # ðŸŸ æ•´ç‚¹è–¯æ¡
  RULE-CYaml-SpeedTest: {<<: *c_yaml, url: "https://kelee.one/Tool/Clash/Rule/SpeedtestInternational.yaml"}
  RULE-CYaml-IPTVOther: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/IPTVOther.yaml"}
  RULE-CYaml-GlobalMedia: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/GlobalMedia.yaml"}
  RULE-CYaml-Proxy: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Proxy.yaml"}
  RULE-CYaml-Global: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Global.yaml"}
  # ðŸ” æ•´ç‚¹æ±‰å ¡
  RULE-CYaml-SpeedTestCN: {<<: *c_yaml, url: "https://kelee.one/Tool/Clash/Rule/SpeedtestChina.yaml"}
  RULE-CYaml-Cloudflarecn: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/Cloudflarecn.yaml"}
  RULE-CYaml-IPTVMainland: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/IPTVMainland.yaml"}
  RULE-CYaml-ChinaMax: {<<: *c_yaml, url: "https://rule.kelee.one/Clash/ChinaMax.yaml"}

rules:
  # ç»•è¿‡å±€åŸŸç½‘
  - IP-CIDR,10.0.0.0/8,ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥
  - IP-CIDR,172.16.0.0/12,ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥
  - IP-CIDR,192.168.0.0/16,ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥
  - IP-CIDR,100.64.0.0/10,ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥
  - IP-CIDR,127.0.0.0/8,ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥
  # å±€åŸŸç½‘
  - RULE-SET,RULE-CYaml-Lan,ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥
  - GEOIP,private,ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥
  - GEOSITE,private,ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥
  - RULE-SET,RULE-CYaml-Direct,ðŸŽ¯ ç›´æŽ¥è¿žæŽ¥
  # ä¸‹è½½
  - DOMAIN-SUFFIX,115cdn.net,ðŸ” æ•´ç‚¹æ±‰å ¡
  - DOMAIN-SUFFIX,steamserver.net,ðŸ” æ•´ç‚¹æ±‰å ¡
  - RULE-SET,RULE-CYaml-Download,ðŸ” æ•´ç‚¹æ±‰å ¡
  - RULE-SET,RULE-CYaml-GameDownload,ðŸ” æ•´ç‚¹æ±‰å ¡
  - RULE-SET,RULE-CYaml-GameDownloadCN,ðŸ” æ•´ç‚¹æ±‰å ¡
  - GEOSITE,steam@cn,ðŸ” æ•´ç‚¹æ±‰å ¡
  # éšç§ä¿æŠ¤ã€ååŠ«æŒã€å¹¿å‘Šæ‹¦æˆª
  - GEOSITE,category-ads-all,ðŸš« å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,RULE-CText-Reject,ðŸš« å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,RULE-CYaml-Privacy,ðŸš« å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,RULE-CYaml-Hijacking,ðŸš« å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,RULE-CYaml-AdvertisingLite,ðŸš« å¹¿å‘Šæ‹¦æˆª

  # ####æˆ‘çš„Emby,Start#####
  # ####æˆ‘çš„Emby,End#####


  # ####è‡ªå®šä¹‰åˆ†æµ Start####
  # é™å®šåº”ç”¨:ðŸ“µ é™å®šåº”ç”¨, ðŸ“š æˆ‘çˆ±æ¼«ç”»
  # # èŒå¨˜ç™¾ç§‘
  - DOMAIN-SUFFIX,mooegirl.org.cn,ðŸ” æ•´ç‚¹æ±‰å ¡
  - DOMAIN-KEYWORD,mooegirl,ðŸ“µ é™å®šåº”ç”¨
  # # bangumi
  - GEOSITE,bangumi,ðŸ“µ é™å®šåº”ç”¨
  # # pixivè½¬å‘
  - DOMAIN-SUFFIX,pixiv.re,ðŸ“µ é™å®šåº”ç”¨
  # # ageåŠ¨æ¼«
  - DOMAIN-SUFFIX,agedm.org,ðŸ“µ é™å®šåº”ç”¨
  # # Follow
  - DOMAIN-SUFFIX,follow.is,ðŸ“µ é™å®šåº”ç”¨
  # # javlib
  - DOMAIN-SUFFIX,javlibrary.com,ðŸ“µ é™å®šåº”ç”¨
  # # jable
  - DOMAIN-SUFFIX,jable.tv,ðŸ“µ é™å®šåº”ç”¨
  # # javday
  - DOMAIN-SUFFIX,javday.app,ðŸ“µ é™å®šåº”ç”¨
  # # MissAV
  - DOMAIN-SUFFIX,missav.ai,ðŸ“µ é™å®šåº”ç”¨
  - DOMAIN-SUFFIX,missav.ws,ðŸ“µ é™å®šåº”ç”¨
  - DOMAIN-SUFFIX,surrit.com,ðŸ” æ•´ç‚¹æ±‰å ¡
  # # iwara
  - DOMAIN-SUFFIX,iwara.tv,ðŸ“µ é™å®šåº”ç”¨

  # # å…¶ä»–åº”ç”¨
  - RULE-SET,RULE-CYaml-Line,ðŸ“µ é™å®šåº”ç”¨
  - RULE-SET,RULE-CYaml-Pixiv,ðŸ“µ é™å®šåº”ç”¨
  - RULE-SET,RULE-CYaml-Abema,ðŸ“µ é™å®šåº”ç”¨
  - RULE-SET,RULE-CYaml-AbemaTV,ðŸ“µ é™å®šåº”ç”¨
  - RULE-SET,RULE-CYaml-Niconico,ðŸ“µ é™å®šåº”ç”¨
  - RULE-SET,RULE-CYaml-PayPal,ðŸ“µ é™å®šåº”ç”¨
  # æˆ‘çˆ±æ¼«ç”»:ðŸ“š æˆ‘çˆ±æ¼«ç”»
  # # Yealicoè§„åˆ™
  - DOMAIN,wwc3818290.home.blog,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  - DOMAIN-SUFFIX,yealico.site,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  # # æ‹·è´æ¼«ç”»
  - DOMAIN-KEYWORD,copy20,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  - DOMAIN-KEYWORD,copymanga,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  - DOMAIN-KEYWORD,copy-manga,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  - DOMAIN-KEYWORD,mangacopy,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  - DOMAIN-KEYWORD,mangafuna,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  # # çƒ­è¾£æ¼«ç”»
  - DOMAIN-KEYWORD,relamanhua,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  # # æ¼«ç”»å·´å£«
  - DOMAIN-KEYWORD,mangabz,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  - DOMAIN-KEYWORD,comicbz,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  # # æ¼«ç”»æŸœ
  - DOMAIN-KEYWORD,manhuagui,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  # # moe
  - DOMAIN-SUFFIX,kox.moe,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  # # mangadex
  - DOMAIN-SUFFIX,mangadex.org,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  # # colaæ¼«ç”»
  - DOMAIN-KEYWORD,colamanga,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  # # æ¼«ç”»db
  - DOMAIN-SUFFIX,manhuadb.com,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  # # å“”å’”æ¼«ç”»
  - RULE-SET,RULE-CYaml-Picacg,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  - RULE-SET,RULE-CYaml-EHGallery,ðŸ“š æˆ‘çˆ±æ¼«ç”»
  # # ç¦æ¼«å¤©å ‚
  - GEOSITE,18comic,ðŸ“š æˆ‘çˆ±æ¼«ç”»

  # å…¶ä»–ä¼˜å…ˆè½¯ä»¶
  # # è½¯ä»¶
  - DOMAIN-SUFFIX,vvebo.vip,ðŸ” æ•´ç‚¹æ±‰å ¡
  - DOMAIN-KEYWORD,anyviewer,ðŸ” æ•´ç‚¹æ±‰å ¡
  - DOMAIN-KEYWORD,aomeisoftware,ðŸ” æ•´ç‚¹æ±‰å ¡
  # # å·¥å…·
  - DOMAIN-SUFFIX,kelee.one,ðŸŸ æ•´ç‚¹è–¯æ¡
  - DOMAIN-SUFFIX,lily.lat,ðŸŸ æ•´ç‚¹è–¯æ¡
  - DOMAIN-SUFFIX,mjj.today,ðŸŸ æ•´ç‚¹è–¯æ¡
  # ####è‡ªå®šä¹‰åˆ†æµ End####

  # åº”ç”¨åˆ†æµ:ðŸ“± ç”µæŠ¥é€šè®¯, ðŸŒŸ æŠ–éŸ³è§†é¢‘, ðŸ» å“”å“©å“”å“©, ðŸ“¹ å·´å“ˆå§†ç‰¹
  - RULE-SET,RULE-CYaml-Telegram,ðŸ“± ç”µæŠ¥é€šè®¯
  - RULE-SET,RULE-CYaml-TikTok,ðŸŒŸ æŠ–éŸ³è§†é¢‘
  - RULE-SET,RULE-CYaml-Bahamut,ðŸ“¹ å·´å“ˆå§†ç‰¹
  - RULE-SET,RULE-CYaml-BiliBili,ðŸ» å“”å“©å“”å“©
  # å›½å¤–åª’ä½“:ðŸŽ¥ å›½å¤–åª’ä½“
  - RULE-SET,RULE-CYaml-YouTube,ðŸŽ¥ å›½å¤–åª’ä½“
  # æ¸¸æˆå¹³å°:ðŸŽ® æ¸¸æˆå¹³å°
  - RULE-SET,RULE-CYaml-Game,ðŸŽ® æ¸¸æˆå¹³å°
  # å¼€å‘å¹³å°:ðŸ³ å¼€å‘å·¥å…·
  - RULE-SET,RULE-CText-AI,ðŸ³ å¼€å‘å·¥å…·
  - RULE-SET,RULE-CYaml-GitHub,ðŸ³ å¼€å‘å·¥å…·
  - RULE-SET,RULE-CYaml-Developer,ðŸ³ å¼€å‘å·¥å…·
  # æœåŠ¡å¹³å°:ðŸ•Šï¸ è°·æ­ŒæœåŠ¡, â“‚ï¸ å¾®è½¯æœåŠ¡, ðŸŽ è‹¹æžœæœåŠ¡
  - RULE-SET,RULE-CYaml-Google,ðŸ•Šï¸ è°·æ­ŒæœåŠ¡
  - RULE-SET,RULE-CYaml-Microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,RULE-CYaml-Apple,â˜ï¸ äº‘æœåŠ¡å•†
  # äº‘æœåŠ¡å•†:â˜ï¸ äº‘æœåŠ¡å•†
  - RULE-SET,RULE-CYaml-Cloudflare,â˜ï¸ äº‘æœåŠ¡å•†
  - RULE-SET,RULE-CYaml-Akamai,â˜ï¸ äº‘æœåŠ¡å•†
  # å›½å¤–å…œåº•:ðŸŸ æ•´ç‚¹è–¯æ¡
  - RULE-SET,RULE-CYaml-SpeedTest,ðŸŸ æ•´ç‚¹è–¯æ¡
  - RULE-SET,RULE-CYaml-GlobalMedia,ðŸŸ æ•´ç‚¹è–¯æ¡
  - RULE-SET,RULE-CYaml-Proxy,ðŸŸ æ•´ç‚¹è–¯æ¡
  - RULE-SET,RULE-CYaml-Global,ðŸŸ æ•´ç‚¹è–¯æ¡
  # å›½å†…å…œåº•:ðŸ” æ•´ç‚¹æ±‰å ¡
  - RULE-SET,RULE-CYaml-SpeedTestCN,ðŸ” æ•´ç‚¹æ±‰å ¡
  - RULE-SET,RULE-CYaml-Cloudflarecn,ðŸ” æ•´ç‚¹æ±‰å ¡
  - RULE-SET,RULE-CYaml-IPTVMainland,ðŸ” æ•´ç‚¹æ±‰å ¡
  - RULE-SET,RULE-CYaml-ChinaMax,ðŸ” æ•´ç‚¹æ±‰å ¡
  # æœ€åŽåŒ¹é…
  - MATCH,â›” è®©æˆ‘è®¿é—®