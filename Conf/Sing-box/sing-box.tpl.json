{
  "log": {
    "disabled": false,
    "level": "info",
    "timestamp": false
  },

  "experimental": {
    "clash_api": {
      "external_controller": "127.0.0.1:9090",
      "external_ui": "My sing-box",
      "external_ui_download_url": "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip",
      "external_ui_download_detour": "🌐 全局选择",
      "default_mode": "rule"
    },
    "cache_file": {
      "enabled": true,
      "store_fakeip": true
    }
  },
  
  "dns": {
    "servers": [
      { "tag": "dns_RESOLVER", "address": "119.29.29.29", "detour": "🎯 直接连接"},
      { "tag": "dns_DIRECT", "address": "https://223.5.5.5/dns-query", "address_resolver": "dns_RESOLVER", "strategy": "ipv4_only", "detour": "🎯 直接连接"},
      { "tag": "dns_PROXY", "address": "https://1.1.1.1/dns-query", "address_resolver": "dns_RESOLVER", "strategy": "ipv4_only", "detour": "🌐 全局选择"},
      { "tag": "dns_BLOCK", "address": "rcode://refused"},
      { "tag": "dns_FAKEIP", "address": "fakeip"}
    ],
    "rules": [
      { "outbound": "any", "server": "dns_RESOLVER", "disable_cache": true},
      { "clash_mode": "direct", "server": "dns_DIRECT", "disable_cache": true},
      { "clash_mode": "global", "server": "dns_PROXY", "disable_cache": true},
      { "query_type": ["A", "AAAA"], "server": "dns_FAKEIP"},
      
      { "rule_set": "RULE_SET-Hijacking", "server":"dns_PROXY"},
      { "rule_set": "geolocation-!cn", "server": "dns_PROXY"},
      { "rule_set": "geolocation-cn", "server": "dns_DIRECT"}
    ],
    "fakeip": { "enabled": true, "inet4_range": "198.18.0.0/15", "inet6_range": "fc00::/18"},
    "strategy": "ipv4_only",
    "final": "dns_DIRECT"
  },

  "inbounds": [
    { 
      "tag": "in-mixed",
      "type": "mixed",
      "listen": "127.0.0.1",
      "listen_port": 7890,
      "set_system_proxy": true
    },
    {
      "tag": "in-tun",
      "type": "tun",
      "interface_name": "tun0",
      "address": [
        "172.18.0.1/30",
        "fdfe:dcba:9876::1/126"
      ],
      "sniff": true,
      "auto_route": true,
      "strict_route": true,
      "stack": "system",
      "udp_timeout": "5m",
      "platform": {
        "http_proxy": {
          "enabled": true,
          "server": "127.0.0.1",
          "server_port": 7890,
          "bypass_domain": [],
          "match_domain": []
        }
      }
    }
  ],

  "outbounds": [
    {"tag": "🌐 全局选择", "type": "selector", "outbounds": ["🚀 自动选择", "🔰 手动选择", "🎯 直接连接"]},
    {"tag": "🚀 自动选择", "type": "urltest", "outbounds": ["🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"], "interval": "5m", "tolerance": 100, "interrupt_exist_connections": false, "url": "https://www.gstatic.com/generate_204"},
    {"tag": "🔰 手动选择", "type": "selector", "outbounds": ["🛫 常规订阅", "🦄 故障转移"]},
    {"tag": "🛰️ 所有订阅", "type": "selector", "outbounds": []},
    {"tag": "🛫 常规订阅", "type": "selector", "outbounds": []},
    {"tag": "🦄 故障转移", "type": "selector", "outbounds": []},
    {"tag": "🚫 广告拦截", "type": "selector", "outbounds": ["🈲 禁止连接", "🎯 直接连接", "🌐 全局选择"]},
    {"tag": "⛔ 让我访问", "type": "selector", "outbounds": ["🎯 直接连接", "🌐 全局选择", "🈲 禁止连接"]},
    {"tag": "📵 限定应用", "type": "selector", "outbounds": ["🌐 全局选择", "🎯 直接连接", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "📚 我爱漫画", "type": "selector", "outbounds": ["🌐 全局选择", "🎯 直接连接", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "📱 电报通讯", "type": "selector", "outbounds": ["🌐 全局选择", "🎯 直接连接", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "🎥 国外媒体", "type": "selector", "outbounds": ["🌐 全局选择", "🎯 直接连接", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "🌟 抖音视频", "type": "selector", "outbounds": ["🌐 全局选择", "🎯 直接连接", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "🍻 哔哩哔哩", "type": "selector", "outbounds": ["🎯 直接连接", "🌐 全局选择", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "📹 巴哈姆特", "type": "selector", "outbounds": ["🌐 全局选择", "🎯 直接连接", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "🎮 游戏平台", "type": "selector", "outbounds": ["🎯 直接连接", "🌐 全局选择", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "🐳 开发工具", "type": "selector", "outbounds": ["🌐 全局选择", "🎯 直接连接", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "🕊️ 谷歌服务", "type": "selector", "outbounds": ["🌐 全局选择", "🎯 直接连接", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "Ⓜ️ 微软服务", "type": "selector", "outbounds": ["🌐 全局选择", "🎯 直接连接", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "🍎 苹果服务", "type": "selector", "outbounds": ["🎯 直接连接", "🌐 全局选择", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "🍟 整点薯条", "type": "selector", "outbounds": ["🌐 全局选择", "🎯 直接连接", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "🍔 整点汉堡", "type": "selector", "outbounds": ["🎯 直接连接", "🌐 全局选择", "🚀 自动选择", "🔰 手动选择", "🇭🇰 香港节点", "🇨🇳 台湾节点", "🇯🇵 日本节点", "🇰🇷 韩国节点", "🇺🇸 美国节点", "🇸🇬 狮城节点"]},
    {"tag": "🇭🇰 香港节点", "type": "urltest", "outbounds": [], "interval": "5m", "tolerance": 100, "interrupt_exist_connections": false, "url": "https://www.gstatic.com/generate_204"},
    {"tag": "🇨🇳 台湾节点", "type": "urltest", "outbounds": [], "interval": "5m", "tolerance": 100, "interrupt_exist_connections": false, "url": "https://www.gstatic.com/generate_204"},
    {"tag": "🇯🇵 日本节点", "type": "urltest", "outbounds": [], "interval": "5m", "tolerance": 100, "interrupt_exist_connections": false, "url": "https://www.gstatic.com/generate_204"},
    {"tag": "🇰🇷 韩国节点", "type": "urltest", "outbounds": [], "interval": "5m", "tolerance": 100, "interrupt_exist_connections": false, "url": "https://www.gstatic.com/generate_204"},
    {"tag": "🇺🇸 美国节点", "type": "urltest", "outbounds": [], "interval": "5m", "tolerance": 100, "interrupt_exist_connections": false, "url": "https://www.gstatic.com/generate_204"},
    {"tag": "🇸🇬 狮城节点", "type": "urltest", "outbounds": [], "interval": "5m", "tolerance": 100, "interrupt_exist_connections": false, "url": "https://www.gstatic.com/generate_204"},
    {"tag": "🌍 其他节点", "type": "urltest", "outbounds": [], "interval": "5m", "tolerance": 100, "interrupt_exist_connections": false, "url": "https://www.gstatic.com/generate_204"},
    {"tag": "🎯 直接连接", "type": "direct"},
    {"tag": "🈲 禁止连接", "type": "block"}
  ],
  "route": {
    "auto_detect_interface": true,
    "rules": [
      { "inbound": "in-mixed", "action": "resolve", "strategy": "prefer_ipv4"},
      { "inbound": "in-mixed", "action": "sniff", "timeout": "1s"},

      {"protocol": "dns", "action": "hijack-dns"},
      { "rule_set": ["geoip-private", "geosite-private", "RULE_SET-Download"], "outbound": "🎯 直接连接"},
      { "rule_set": ["geosite-category-ads", "RULE_SET-EasyPrivacy", "RULE_SET-Privacy"], "outbound": "🚫 广告拦截"},

      { "domain_suffix": ["agedm.org"], "outbound": "📵 限定应用"},
      { "rule_set": ["geosite-pixiv", "geosite-line", "geosite-abema", "geosite-niconico", "geosite-paypal"], "outbound":"📵 限定应用"},

      { "domain_keyword": ["copymanga", "mangacopy", "mangafuna", "relamanhua"], "outbound": "📚 我爱漫画"},
      { "rule_set": ["geosite-picacg", "geosite-18comic", "geosite-ehentai"], "outbound":"📚 我爱漫画"},

      { "rule_set": ["geoip-telegram", "geosite-telegram"], "outbound":"📱 电报通讯"},
      { "rule_set": ["geosite-disney", "geosite-youtube", "geoip-netflix", "geosite-netflix"], "outbound":"🎥 国外媒体"},
      { "rule_set": ["geosite-tiktok"], "outbound":"🌟 抖音视频"},
      { "rule_set": ["geosite-bilibili"], "outbound":"🍻 哔哩哔哩"},
      { "rule_set": ["geosite-bahamut"], "outbound":"📹 巴哈姆特"},
      { "rule_set": ["geosite-category-games"], "outbound":"🎮 游戏平台"},
      { "rule_set": ["geosite-ategory-ai-chat-!cn", "geosite-category-dev"], "outbound":"🐳 开发工具"},
      { "rule_set": ["geoip-google", "geosite-google"], "outbound":"🕊️ 谷歌服务"},
      { "rule_set": ["geosite-microsoft"], "outbound":"Ⓜ️ 微软服务"},
      { "rule_set": ["geosite-apple"], "outbound":"🍎 苹果服务"},
      { "rule_set": ["geoip-cloudflare", "geosite-cloudflare", "geolocation-!cn"], "outbound":"🍟 整点薯条"},
      { "rule_set": ["geosite-cloudflare-cn", "geolocation-cn"], "outbound":"🍔 整点汉堡"}
    ],
    "rule_set": [
      { "tag": "geoip-private","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geoip/private.srs"},
      { "tag": "geosite-private","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/private.srs"},
      { "tag": "RULE_SET-Download","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Download/Download.srs"},
      { "tag": "RULE_SET-Hijacking","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Hijacking/Hijacking.srs"},

      { "tag": "RULE_SET-EasyPrivacy","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/EasyPrivacy/EasyPrivacy.srs"},
      { "tag": "RULE_SET-Privacy","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Privacy/Privacy.srs"},
      { "tag": "geosite-category-ads","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/category-ads.srs"},
      
      { "tag": "geosite-pixiv","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/pixiv.srs"},
      { "tag": "geosite-line","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/line.srs"},
      { "tag": "geosite-abema","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/abema.srs"},
      { "tag": "geosite-niconico","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/niconico.srs"},
      { "tag": "geosite-paypal","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/paypal.srs"},
      { "tag": "geosite-picacg","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/picacg.srs"},
      { "tag": "geosite-18comic","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/18comic.srs"},
      { "tag": "geosite-ehentai","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/ehentai.srs"},
      { "tag": "geoip-telegram","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geoip/telegram.srs"},
      { "tag": "geosite-telegram","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/telegram.srs"},
      { "tag": "geosite-disney","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/disney.srs"},
      { "tag": "geosite-youtube","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/youtube.srs"},
      { "tag": "geoip-netflix", "type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geoip/netflix.srs"},
      { "tag": "geosite-netflix","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/netflix.srs"},
      { "tag": "geosite-tiktok","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/tiktok.srs"},
      { "tag": "geosite-bilibili","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/bilibili.srs"},
      { "tag": "geosite-bahamut","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/bahamut.srs"},
      { "tag": "geosite-category-games","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/category-games.srs"},
      { "tag": "geosite-ategory-ai-chat-!cn","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/category-ai-chat-!cn.srs"},
      { "tag": "geosite-category-dev","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/category-dev.srs"},
      { "tag": "geoip-google", "type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geoip/google.srs"},
      { "tag": "geosite-google","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/google.srs"},
      { "tag": "geosite-microsoft","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/microsoft.srs"},
      { "tag": "geosite-apple","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/apple.srs"},
      { "tag": "geoip-cloudflare","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geoip/cloudflare.srs"},
      { "tag": "geosite-cloudflare","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/cloudflare.srs"},
      { "tag": "geolocation-!cn","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/geolocation-!cn.srs"},
      { "tag": "geosite-cloudflare-cn","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/cloudflare-cn.srs"},
      { "tag": "geolocation-cn","type": "remote", "format": "binary", "update_interval": "24h", "download_detour": "🦄 故障转移", "url":"https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/sing/geo/geosite/geolocation-cn.srs"}
    ],
    "final": "⛔ 让我访问"
  }
}